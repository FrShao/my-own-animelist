import{S as A,i as L,s as M,C as P,D as G,E as H,F as B,f as F,t as J,o as O,M as R,k as m,l as v,m as g,h as c,n as _,b,N as T,q as p,r as k,G as u,B as w,e as V,O as z,a as D,c as N,L as K,p as Q}from"./index-cf589771.js";import"../components/pages/_page.svelte-5f084b0a.js";function S(s,e,i){const l=s.slice();return l[9]=e[i],l[11]=i,l}function U(s){let e,i,l=s[12].message+"",t;return{c(){e=m("div"),i=p("Error: "),t=p(l)},l(a){e=v(a,"DIV",{});var n=g(e);i=k(n,"Error: "),t=k(n,l),n.forEach(c)},m(a,n){b(a,e,n),u(e,i),u(e,t)},p:w,d(a){a&&c(e)}}}function X(s){let e,i=s[1](s[2].data),l=[];for(let t=0;t<i.length;t+=1)l[t]=j(S(s,i,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=V()},l(t){for(let a=0;a<l.length;a+=1)l[a].l(t);e=V()},m(t,a){for(let n=0;n<l.length;n+=1)l[n].m(t,a);b(t,e,a)},p(t,a){if(a&6){i=t[1](t[2].data);let n;for(n=0;n<i.length;n+=1){const f=S(t,i,n);l[n]?l[n].p(f,a):(l[n]=j(f),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=i.length}},d(t){z(l,t),t&&c(e)}}}function Y(s){let e,i,l,t=s[11]+1+"",a;return{c(){e=m("div"),i=m("p"),l=p("#"),a=p(t),this.h()},l(n){e=v(n,"DIV",{class:!0,style:!0});var f=g(e);i=v(f,"P",{});var o=g(i);l=k(o,"#"),a=k(o,t),o.forEach(c),f.forEach(c),this.h()},h(){_(e,"class","rank svelte-1qite1"),Q(e,"background-color",le(s[11]))},m(n,f){b(n,e,f),u(e,i),u(i,l),u(i,a)},p:w,d(n){n&&c(e)}}}function j(s){let e,i,l,t,a,n,f,o,E=te(s[9].title)+"",W,q,r=s[11]<10&&Y(s);return{c(){e=m("div"),i=m("a"),l=m("div"),t=m("img"),n=D(),r&&r.c(),f=D(),o=m("div"),W=p(E),q=D(),this.h()},l(h){e=v(h,"DIV",{class:!0});var d=g(e);i=v(d,"A",{href:!0});var y=g(i);l=v(y,"DIV",{class:!0});var I=g(l);t=v(I,"IMG",{src:!0,alt:!0,class:!0}),n=N(I),r&&r.l(I),I.forEach(c),y.forEach(c),f=N(d),o=v(d,"DIV",{class:!0});var C=g(o);W=k(C,E),C.forEach(c),q=N(d),d.forEach(c),this.h()},h(){K(t.src,a=s[9].images.jpg.image_url)||_(t,"src",a),_(t,"alt",s[9].title+".jpg"),_(t,"class","svelte-1qite1"),_(l,"class","card-thumbnail svelte-1qite1"),_(i,"href","/animes/"+s[9].mal_id),_(o,"class","card-desc svelte-1qite1"),_(e,"class","card svelte-1qite1")},m(h,d){b(h,e,d),u(e,i),u(i,l),u(l,t),u(l,n),r&&r.m(l,null),u(e,f),u(e,o),u(o,W),u(e,q)},p(h,d){h[11]<10&&r.p(h,d)},d(h){h&&c(e),r&&r.d()}}}function Z(s){let e,i;return{c(){e=m("div"),i=p("Waiting for informations ...")},l(l){e=v(l,"DIV",{});var t=g(e);i=k(t,"Waiting for informations ..."),t.forEach(c)},m(l,t){b(l,e,t),u(e,i)},p:w,d(l){l&&c(e)}}}function x(s){let e,i,l={ctx:s,current:null,token:null,hasCatch:!0,pending:Z,then:X,catch:U,value:2,error:12};return R(s[2],l),{c(){e=m("div"),l.block.c(),this.h()},l(t){e=v(t,"DIV",{class:!0});var a=g(e);l.block.l(a),a.forEach(c),this.h()},h(){_(e,"class",i="wrap "+(s[0]?"nowrap":"")+" svelte-1qite1")},m(t,a){b(t,e,a),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null},p(t,a){s=t,T(l,s,a),a&1&&i!==(i="wrap "+(s[0]?"nowrap":"")+" svelte-1qite1")&&_(e,"class",i)},d(t){t&&c(e),l.block.d(),l.token=null,l=null}}}function $(s){let e;const i=s[7].default,l=P(i,s,s[6],null),t=l||x(s);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,n){t&&t.m(a,n),e=!0},p(a,[n]){l?l.p&&(!e||n&64)&&G(l,i,a,a[6],e?B(i,a[6],n,null):H(a[6]),null):t&&t.p&&(!e||n&1)&&t.p(a,e?n:-1)},i(a){e||(F(t,a),e=!0)},o(a){J(t,a),e=!1},d(a){t&&t.d(a)}}}let ne=225+10;async function ee(){const s=await fetch("https://api.jikan.moe/v4/top/anime?page=1");return!s.ok||s.status===404?[]:await s.json()}function te(s){let e;if(s.length>40){let l=0,t=s.split(" ");e="",t.forEach(a=>{l+=a.length+1,l<=40+1&&(e+=a+" ")}),e+="..."}else e=s;return e}function le(s){let e;return s<3?e="gold":e="hsl(215,81%,56%)",e}function ae(s,e,i){let{$$slots:l={},$$scope:t}=e;O(()=>{document.documentElement.style.setProperty("--cardWidth",o+"px"),document.documentElement.style.setProperty("--cardHeight",E+"px")});let{limit:a=25}=e,{isSmall:n=!1}=e,{isNoWrap:f=!1}=e,{cardWidth:o=225}=e,E=308;n&&(o=131,E=180);function W(r){let h=[r[0]];for(let d=1;d<a;d++)h.push(r[d]);return h}let q=ee();return s.$$set=r=>{"limit"in r&&i(4,a=r.limit),"isSmall"in r&&i(5,n=r.isSmall),"isNoWrap"in r&&i(0,f=r.isNoWrap),"cardWidth"in r&&i(3,o=r.cardWidth),"$$scope"in r&&i(6,t=r.$$scope)},[f,W,q,o,a,n,t,l]}class re extends A{constructor(e){super(),L(this,e,ae,$,M,{limit:4,isSmall:5,isNoWrap:0,cardWidth:3})}}export{re as default,ne as elementWidth};
